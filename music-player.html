<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="æ“ºæ¸¡è˜­é™½è‹±é›„ä¸»é¡ŒéŸ³æ¨‚æ’­æ”¾å™¨">
    <title>ğŸµ è‹±é›„ä¸»é¡ŒéŸ³æ¨‚ - æ“ºæ¸¡è˜­é™½</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .music-player-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .music-player-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(56, 189, 248, 0.2);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .music-title {
            font-size: 2rem;
            color: #0F172A;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .music-subtitle {
            color: #64748B;
            font-size: 1.1rem;
            margin-bottom: 30px;
        }
        
        .music-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .btn-music {
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-play {
            background: linear-gradient(135deg, #10B981, #059669);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .btn-play:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }
        
        .btn-stop {
            background: linear-gradient(135deg, #EF4444, #DC2626);
            color: white;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }
        
        .btn-stop:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }
        
        .music-info {
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(14, 165, 233, 0.05));
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            text-align: left;
        }
        
        .music-info h3 {
            color: #0F172A;
            margin-bottom: 15px;
        }
        
        .music-info-item {
            margin-bottom: 10px;
            color: #475569;
        }
        
        .music-info-label {
            font-weight: 600;
            color: #3B82F6;
            display: inline-block;
            width: 120px;
        }
        
        .music-elements {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(56, 189, 248, 0.2);
        }
        
        .music-elements h3 {
            color: #0F172A;
            margin-bottom: 15px;
        }
        
        .music-elements ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .music-elements li {
            padding: 10px 0;
            color: #475569;
            border-bottom: 1px solid rgba(56, 189, 248, 0.1);
        }
        
        .music-elements li:last-child {
            border-bottom: none;
        }
        
        .music-elements li::before {
            content: 'ğŸµ ';
            margin-right: 10px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            background: #EF4444;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .status-indicator.playing {
            background: #10B981;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
        }
    </style>
</head>
<body>
    <div class="ocean-background" aria-hidden="true">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>
    
    <div class="coastline" aria-hidden="true">
        <div class="dune dune-front"></div>
        <div class="dune dune-mid"></div>
        <div class="dune dune-back"></div>
        <div class="coastline-highlight"></div>
    </div>
    
    <div class="container">
        <header class="header">
            <a href="index.html" class="back-link">â† è¿”å›é¦–é </a>
            <h1 class="title">ğŸµ è‹±é›„ä¸»é¡ŒéŸ³æ¨‚</h1>
            <p class="subtitle">æ“ºæ¸¡è˜­é™½è‹±é›„ä¹‹æ­Œ</p>
        </header>
        
        <main class="content">
            <div class="music-player-container">
                <section class="music-player-card">
                    <h2 class="music-title">æ“ºæ¸¡è˜­é™½è‹±é›„ä¹‹æ­Œ</h2>
                    <p class="music-subtitle">å®œè˜­æ°‘è¬ é¢¨æ ¼ Â· æµ·å²¸æ„Ÿ Â· ç™‚ç™’ç³»</p>
                    
                    <div class="music-controls">
                        <button type="button" class="btn-music btn-play" id="btn-play-music">
                            <span>â–¶ï¸</span>
                            <span>æ’­æ”¾éŸ³æ¨‚</span>
                        </button>
                        <button type="button" class="btn-music btn-stop" id="btn-stop-music" style="display: none;">
                            <span>â¹ï¸</span>
                            <span>åœæ­¢æ’­æ”¾</span>
                        </button>
                    </div>
                    
                    <div id="music-status" style="color: #64748B; font-size: 0.9rem;">
                        <span class="status-indicator" id="status-indicator"></span>
                        <span id="status-text">æº–å‚™å°±ç·’</span>
                    </div>
                </section>
                
                <section class="music-info">
                    <h3>ğŸ“‹ éŸ³æ¨‚è³‡è¨Š</h3>
                    <div class="music-info-item">
                        <span class="music-info-label">é¢¨æ ¼ï¼š</span>
                        <span id="info-style">å®œè˜­æ°‘è¬ é¢¨æ ¼</span>
                    </div>
                    <div class="music-info-item">
                        <span class="music-info-label">æƒ…ç·’ï¼š</span>
                        <span id="info-mood">ç™‚ç™’ã€å†¥æƒ³ã€è¡Œèµ°</span>
                    </div>
                    <div class="music-info-item">
                        <span class="music-info-label">ç¯€å¥ï¼š</span>
                        <span id="info-tempo">æ…¢æ­¥èª¿ï¼ˆç´„ 60 BPMï¼‰</span>
                    </div>
                    <div class="music-info-item">
                        <span class="music-info-label">éŸ³éšï¼š</span>
                        <span id="info-scale">äº”è²éŸ³éšï¼ˆC, D, E, G, Aï¼‰</span>
                    </div>
                    <div class="music-info-item">
                        <span class="music-info-label">æ™‚é•·ï¼š</span>
                        <span id="info-duration">ç´„ 16 ç§’ï¼ˆå¯å¾ªç’°ï¼‰</span>
                    </div>
                </section>
                
                <section class="music-elements">
                    <h3>ğŸ¼ éŸ³æ¨‚å…ƒç´ </h3>
                    <ul id="music-elements-list">
                        <li>æµ·æµªèƒŒæ™¯éŸ³ï¼ˆç™½å™ªéŸ³ + ä½é€šæ¿¾æ³¢ï¼‰</li>
                        <li>ä¸»æ—‹å¾‹ï¼ˆäº”è²éŸ³éšï¼Œç·©æ…¢æµæš¢ï¼‰</li>
                        <li>ä½éŸ³ä¼´å¥ï¼ˆC-G äº¤æ›¿ï¼Œæµ·æµªç¯€å¥ï¼‰</li>
                        <li>å’Œè²ï¼ˆé«˜å…«åº¦ï¼Œè¼•æŸ”é»ç¶´ï¼‰</li>
                    </ul>
                </section>
                
                <section class="card" style="margin-top: 30px;">
                    <h3>ğŸ’¡ ä½¿ç”¨å»ºè­°</h3>
                    <p style="color: #475569; line-height: 1.7;">
                        é€™é¦–éŸ³æ¨‚å°ˆç‚ºã€Œæ“ºæ¸¡è˜­é™½è‹±é›„ä¹‹æ—…ã€è¨­è¨ˆï¼Œé©åˆåœ¨é€²è¡Œä»»å‹™æ™‚æ’­æ”¾ï¼Œç‡Ÿé€ æµ·å²¸æ°›åœã€‚
                        éŸ³æ¨‚æ¡ç”¨å®œè˜­æ°‘è¬ é¢¨æ ¼ï¼Œçµåˆæµ·æµªè²æ•ˆï¼Œå‰µé€ å‡ºç™‚ç™’ã€å†¥æƒ³çš„æ°›åœï¼Œéå¸¸é©åˆåœ¨è¡Œèµ°æˆ–éœåæ™‚è†è½ã€‚
                    </p>
                    <p style="color: #64748B; margin-top: 15px; font-size: 0.9rem;">
                        ğŸ’¡ æç¤ºï¼šå»ºè­°ä½¿ç”¨è€³æ©Ÿæˆ–å¤–æ¥å–‡å­ä»¥ç²å¾—æœ€ä½³è†è½é«”é©—ã€‚
                    </p>
                </section>
            </div>
        </main>
    </div>
    
    <script src="hero-music.js"></script>
    <script>
        let musicGenerator = null;
        let isPlaying = false;

        document.addEventListener('DOMContentLoaded', async () => {
            musicGenerator = new HeroMusicGenerator();
            
            // è¼‰å…¥éŸ³æ¨‚è³‡è¨Š
            const description = musicGenerator.getMusicDescription();
            document.getElementById('info-style').textContent = description.style;
            document.getElementById('info-mood').textContent = description.mood;
            document.getElementById('info-tempo').textContent = description.tempo;
            document.getElementById('info-scale').textContent = description.scale;
            document.getElementById('info-duration').textContent = description.duration;

            const btnPlay = document.getElementById('btn-play-music');
            const btnStop = document.getElementById('btn-stop-music');
            const statusIndicator = document.getElementById('status-indicator');
            const statusText = document.getElementById('status-text');

            btnPlay.addEventListener('click', async () => {
                if (!isPlaying) {
                    // åˆå§‹åŒ– Audio Contextï¼ˆé¦–æ¬¡é»æ“Šæ™‚ï¼‰
                    if (!musicGenerator.audioContext) {
                        statusText.textContent = 'æ­£åœ¨åˆå§‹åŒ–éŸ³è¨Šç³»çµ±...';
                        await musicGenerator.init();
                    }

                    // æ’­æ”¾éŸ³æ¨‚
                    statusText.textContent = 'æ­£åœ¨æ’­æ”¾...';
                    statusIndicator.classList.add('playing');
                    btnPlay.style.display = 'none';
                    btnStop.style.display = 'flex';
                    isPlaying = true;

                    await musicGenerator.play();
                }
            });

            btnStop.addEventListener('click', () => {
                if (isPlaying) {
                    musicGenerator.stop();
                    statusText.textContent = 'å·²åœæ­¢';
                    statusIndicator.classList.remove('playing');
                    btnPlay.style.display = 'flex';
                    btnStop.style.display = 'none';
                    isPlaying = false;
                }
            });

            // ç›£è½éŸ³æ¨‚çµæŸ
            setInterval(() => {
                if (isPlaying && !musicGenerator.isPlaying) {
                    statusText.textContent = 'æ’­æ”¾å®Œæˆ';
                    statusIndicator.classList.remove('playing');
                    btnPlay.style.display = 'flex';
                    btnStop.style.display = 'none';
                    isPlaying = false;
                }
            }, 500);
        });
    </script>
</body>
</html>

